<div class="embed-row">
	@foreach(EmbedItem item in Row.Items)
	{
		@switch (item.ItemType)
		{
			case EmbedItemType.Text:
				<EmbedTextItemComponent _item="@item"></EmbedTextItemComponent>
				break;
			case EmbedItemType.Button:
				<EmbedButtonComponent _item="@item" Message="@Message" embed="@embed" FormItem="@FormItem"></EmbedButtonComponent>
				break;
			case EmbedItemType.InputBox:
				<EmbedInputBoxComponent _item="@item"></EmbedInputBoxComponent>
				break;
			case EmbedItemType.Form:
				<EmbedFormComponent _item="@item" Message="@Message" embed="@embed"></EmbedFormComponent>
				break;
			case EmbedItemType.TextArea:
				//<EmbedButtonComponent _item="@item" Message="@Message" embed="@embed" FormItem="@FormItem"></EmbedButtonComponent>
				break;
		}
	}
</div>

@code {
	[Parameter]
	public EmbedRow Row { get; set; }

	[Parameter]
	public ClientPlanetMessage Message { get; set; }

	[Parameter]
	public Embed embed { get; set; }

	[Parameter]
	public EmbedFormItem? FormItem { get; set; }

	public string Style {
		get {
			if (Row.Align == EmbedAlignType.Left) {
				return "margin-right:auto;";
			}
			if (Row.Align == EmbedAlignType.Center)
			{
				return "margin-left: auto;margin-right: auto;";
			}
			if (Row.Align == EmbedAlignType.Right)
			{
				return "margin-left:auto;";
			}
			return "";

		}
	}

	protected override void OnInitialized()
	{
		StateHasChanged();
	}
}