<ContextMenu Id='add-context' CssClass='context'>
    @if (!Is_Planet){
        <BlazorContextMenu.Item CssClass='context-item' OnClick='OnChannelClick'>Add Channel</BlazorContextMenu.Item>
    }
    <BlazorContextMenu.Item CssClass='context-item' OnClick='OnCategoryClick'>Add Category</BlazorContextMenu.Item>
</ContextMenu>

@code {

    [CascadingParameter]
    public IModalService Modal { get; set; }

    public static bool Is_Planet { get; set; }
    public static Planet Planet { get; set; }
    public static PlanetCategoryChannel Category { get; set; }

    public static void ReInitialize(Planet planet, PlanetCategoryChannel category){
        Planet = planet;
        Category = category;

        Is_Planet = (category != null);
    }

    public void OnChannelClick(){
        var modalParams = new ModalParameters();
        modalParams.Add("Planet", Planet);
        modalParams.Add("Parent", Category);
        Modal.Show<CreateChannelComponent>("Create Channel", modalParams, new ModalOptions() { Class = "modal-shrink-fit-no-padding" });
    }

    public void OnCategoryClick(){
        var modalParams = new ModalParameters();
        modalParams.Add("Planet", Planet);
        modalParams.Add("Parent", Category);
        Modal.Show<CreateCategoryComponent>("Create Category", modalParams, new ModalOptions() { Class = "modal-shrink-fit-no-padding" });
    }
}
