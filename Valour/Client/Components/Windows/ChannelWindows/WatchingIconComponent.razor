<BasicTooltipComponent Title="@User.Name">
    <img alt="@User.Name is watching" id="watching-icon-@User.Name" class="watching-icon" src='@_pfpUrl' @onerror="OnIconError" />
</BasicTooltipComponent>

@code {
    
    [Parameter]
    public User User { get; set; }

    private string _pfpUrl;

    protected override void OnInitialized()
    {
        _pfpUrl = PfpUtility.GetPfpUrl(User);
    }

    private void OnIconError()
    {
        _pfpUrl = PfpUtility.GetFailedPfpUrl(User);
        StateHasChanged();
    }
}
