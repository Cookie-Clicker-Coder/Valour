(function(){function e(t,r,n){function o(i,a){if(!r[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);var u=Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[i]={exports:{}};t[i][0].call(l.exports,function(e){return o(t[i][1][e]||e)},l,l.exports,e,t,r,n)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}return e})()({1:[function(e,t,r){(function(n){(function(){r.formatArgs=function e(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;r.splice(1,0,n,"color: inherit");let o=0,s=0;r[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(o++,"%c"===e&&(s=o))}),r.splice(s,0,n)},r.save=function e(t){try{t?r.storage.setItem("debug",t):r.storage.removeItem("debug")}catch(n){}},r.load=function e(){let t;try{t=r.storage.getItem("debug")}catch(o){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t},r.useColors=function e(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function e(){try{return localStorage}catch(t){}}();let o;r.destroy=(o=!1,()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e("./common")(r);let{formatters:s}=t.exports;s.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this)}).call(this,e("_process"))},{"./common":2,_process:21}],2:[function(e,t,r){t.exports=function t(r){function n(e){let t,r=null,s,i;function a(...e){if(!a.enabled)return;let r=a,o=Number(new Date),s=o-(t||o);r.diff=s,r.prev=t,r.curr=o,t=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return"%";i++;let s=n.formatters[o];if("function"==typeof s){let a=e[i];t=s.call(r,a),e.splice(i,1),i--}return t}),n.formatArgs.call(r,e);let c=r.log||n.log;c.apply(r,e)}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=o,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==r?r:(s!==n.namespaces&&(s=n.namespaces,i=n.enabled(e)),i),set(e){r=e}}),"function"==typeof n.init&&n.init(a),a}function o(e,t){let r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function e(t){return t instanceof Error?t.stack||t.message:t},n.disable=function e(){let t=[...n.names.map(s),...n.skips.map(s).map(e=>"-"+e)].join(",");return n.enable(""),t},n.enable=function e(t){n.save(t),n.namespaces=t,n.names=[],n.skips=[];let r,o=("string"==typeof t?t:"").split(/[\s,]+/),s=o.length;for(r=0;r<s;r++)o[r]&&("-"===(t=o[r].replace(/\*/g,".*?"))[0]?n.skips.push(RegExp("^"+t.slice(1)+"$")):n.names.push(RegExp("^"+t+"$")))},n.enabled=function e(t){if("*"===t[t.length-1])return!0;let r,o;for(r=0,o=n.skips.length;r<o;r++)if(n.skips[r].test(t))return!1;for(r=0,o=n.names.length;r<o;r++)if(n.names[r].test(t))return!0;return!1},n.humanize=e("ms"),n.destroy=function e(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(e=>{n[e]=r[e]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function e(t){let r=0;for(let o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o),r|=0;return n.colors[Math.abs(r)%n.colors.length]},n.enable(n.load()),n}},{ms:4}],3:[function(e,t,r){var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{if(!__global__)return n();return __global__}finally{delete Object.prototype.__global__}}()},{}],4:[function(e,t,r){var n=36e5,o=24*n,s=7*o,i=365.25*o;function a(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}t.exports=function(e,t){t=t||{};var r,c,u,l,f=typeof e;if("string"===f&&e.length>0)return function e(t){if(!((t=String(t)).length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(r){var a=parseFloat(r[1]),c=(r[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*a;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===f&&isFinite(e)){return t.long?(r=e,c=Math.abs(r),c>=o?a(r,c,o,"day"):c>=n?a(r,c,n,"hour"):c>=6e4?a(r,c,6e4,"minute"):c>=1e3?a(r,c,1e3,"second"):r+" ms"):(u=e,l=Math.abs(u),l>=o?Math.round(u/o)+"d":l>=n?Math.round(u/n)+"h":l>=6e4?Math.round(u/6e4)+"m":l>=1e3?Math.round(u/1e3)+"s":u+"ms")}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],5:[function(e,t,r){let{EventEmitter:n}=e("events"),o=e("./Logger");t.exports=class e extends n{constructor(e){super(),this.setMaxListeners(1/0),this._logger=e||new o("EnhancedEventEmitter")}safeEmit(e,...t){try{this.emit(e,...t)}catch(r){this._logger.error("safeEmit() | event listener threw an error [event:%s]:%o",e,r)}}async safeEmitAsPromise(e,...t){return new Promise((r,n)=>{this.safeEmit(e,...t,r,n)})}}},{"./Logger":6,events:20}],6:[function(e,t,r){let n=e("debug"),o="protoo-client";t.exports=class e{constructor(e){e?(this._debug=n(`${o}:${e}`),this._warn=n(`${o}:WARN:${e}`),this._error=n(`${o}:ERROR:${e}`)):(this._debug=n(o),this._warn=n(`${o}:WARN`),this._error=n(`${o}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},{debug:1}],7:[function(e,t,r){let n=e("./Logger"),{generateRandomNumber:o}=e("./utils"),s=new n("Message");t.exports=class e{static parse(e){let t,r={};try{t=JSON.parse(e)}catch(n){s.error("parse() | invalid JSON: %s",n);return}if("object"!=typeof t||Array.isArray(t)){s.error("parse() | not an object");return}if(t.request){if(r.request=!0,"string"!=typeof t.method){s.error("parse() | missing/invalid method field");return}if("number"!=typeof t.id){s.error("parse() | missing/invalid id field");return}r.id=t.id,r.method=t.method,r.data=t.data||{}}else if(t.response){if(r.response=!0,"number"!=typeof t.id){s.error("parse() | missing/invalid id field");return}r.id=t.id,t.ok?(r.ok=!0,r.data=t.data||{}):(r.ok=!1,r.errorCode=t.errorCode,r.errorReason=t.errorReason)}else if(t.notification){if(r.notification=!0,"string"!=typeof t.method){s.error("parse() | missing/invalid method field");return}r.method=t.method,r.data=t.data||{}}else{s.error("parse() | missing request/response field");return}return r}static createRequest(e,t){let r={request:!0,id:o(),method:e,data:t||{}};return r}static createSuccessResponse(e,t){let r={response:!0,id:e.id,ok:!0,data:t||{}};return r}static createErrorResponse(e,t,r){let n={response:!0,id:e.id,ok:!1,errorCode:t,errorReason:r};return n}static createNotification(e,t){return{notification:!0,method:e,data:t||{}}}}},{"./Logger":6,"./utils":11}],8:[function(e,t,r){let n=e("./Logger"),o=e("./EnhancedEventEmitter"),s=e("./Message"),i=new n("Peer");t.exports=class e extends o{constructor(e){super(i),i.debug("constructor()"),this._closed=!1,this._transport=e,this._connected=!1,this._data={},this._sents=new Map,this._handleTransport()}get closed(){return this._closed}get connected(){return this._connected}get data(){return this._data}set data(e){throw Error("cannot override data object")}close(){if(!this._closed){for(let e of(i.debug("close()"),this._closed=!0,this._connected=!1,this._transport.close(),this._sents.values()))e.close();this.safeEmit("close")}}async request(e,t){let r=s.createRequest(e,t);return this._logger.debug("request() [method:%s, id:%s]",e,r.id),await this._transport.send(r),new Promise((e,t)=>{let n=1500*(15+.1*this._sents.size),o={id:r.id,method:r.method,resolve:t=>{this._sents.delete(r.id)&&(clearTimeout(o.timer),e(t))},reject:e=>{this._sents.delete(r.id)&&(clearTimeout(o.timer),t(e))},timer:setTimeout(()=>{this._sents.delete(r.id)&&t(Error("request timeout"))},n),close(){clearTimeout(o.timer),t(Error("peer closed"))}};this._sents.set(r.id,o)})}async notify(e,t){let r=s.createNotification(e,t);this._logger.debug("notify() [method:%s]",e),await this._transport.send(r)}_handleTransport(){if(this._transport.closed){this._closed=!0,setTimeout(()=>{this._closed||(this._connected=!1,this.safeEmit("close"))});return}this._transport.on("open",()=>{this._closed||(i.debug('emit "open"'),this._connected=!0,this.safeEmit("open"))}),this._transport.on("disconnected",()=>{this._closed||(i.debug('emit "disconnected"'),this._connected=!1,this.safeEmit("disconnected"))}),this._transport.on("failed",e=>{this._closed||(i.debug('emit "failed" [currentAttempt:%s]',e),this._connected=!1,this.safeEmit("failed",e))}),this._transport.on("close",()=>{this._closed||(this._closed=!0,i.debug('emit "close"'),this._connected=!1,this.safeEmit("close"))}),this._transport.on("message",e=>{e.request?this._handleRequest(e):e.response?this._handleResponse(e):e.notification&&this._handleNotification(e)})}_handleRequest(e){try{this.emit("request",e,t=>{let r=s.createSuccessResponse(e,t);this._transport.send(r).catch(()=>{})},(t,r)=>{t instanceof Error?(r=t.message,t=500):"number"==typeof t&&r instanceof Error&&(r=r.message);let n=s.createErrorResponse(e,t,r);this._transport.send(n).catch(()=>{})})}catch(t){let r=s.createErrorResponse(e,500,String(t));this._transport.send(r).catch(()=>{})}}_handleResponse(e){let t=this._sents.get(e.id);if(!t){i.error("received response does not match any sent request [id:%s]",e.id);return}if(e.ok)t.resolve(e.data);else{let r=Error(e.errorReason);r.code=e.errorCode,t.reject(r)}}_handleNotification(e){this.safeEmit("notification",e)}}},{"./EnhancedEventEmitter":5,"./Logger":6,"./Message":7}],9:[function(e,t,r){let{version:n}=e("../package.json"),o=e("./Peer"),s=e("./transports/WebSocketTransport");r.version=n,r.Peer=o,r.WebSocketTransport=s},{"../package.json":12,"./Peer":8,"./transports/WebSocketTransport":10}],10:[function(e,t,r){let n=e("websocket").w3cwebsocket,o=e("retry"),s=e("../Logger"),i=e("../EnhancedEventEmitter"),a=e("../Message"),c={retries:10,factor:2,minTimeout:1e3,maxTimeout:8e3},u=new s("WebSocketTransport");t.exports=class e extends i{constructor(e,t){super(u),u.debug("constructor() [url:%s, options:%o]",e,t),this._closed=!1,this._url=e,this._options=t||{},this._ws=null,this._runWebSocket()}get closed(){return this._closed}close(){if(!this._closed){u.debug("close()"),this._closed=!0,this.safeEmit("close");try{this._ws.onopen=null,this._ws.onclose=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.close()}catch(e){u.error("close() | error closing the WebSocket: %o",e)}}}async send(e){if(this._closed)throw Error("transport closed");try{this._ws.send(JSON.stringify(e))}catch(t){throw u.warn("send() failed:%o",t),t}}_runWebSocket(){let e=o.operation(this._options.retry||c),t=!1;e.attempt(r=>{if(this._closed){e.stop();return}u.debug("_runWebSocket() [currentAttempt:%s]",r),this._ws=new n(this._url,"protoo",this._options.origin,this._options.headers,this._options.requestOptions,this._options.clientConfig),this._ws.onopen=()=>{this._closed||(t=!0,this.safeEmit("open"))},this._ws.onclose=n=>{if(!this._closed){if(u.warn('WebSocket "close" event [wasClean:%s, code:%s, reason:"%s"]',n.wasClean,n.code,n.reason),4e3!==n.code){if(t){if(e.stop(),this.safeEmit("disconnected"),this._closed)return;this._runWebSocket();return}if(this.safeEmit("failed",r),this._closed||e.retry(!0))return}this._closed=!0,this.safeEmit("close")}},this._ws.onerror=()=>{this._closed||u.error('WebSocket "error" event')},this._ws.onmessage=e=>{if(this._closed)return;let t=a.parse(e.data);if(t){if(0===this.listenerCount("message")){u.error('no listeners for WebSocket "message" event, ignoring received message');return}this.safeEmit("message",t)}}})}}},{"../EnhancedEventEmitter":5,"../Logger":6,"../Message":7,retry:13,websocket:16}],11:[function(e,t,r){r.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},{}],12:[function(e,t,r){t.exports={name:"protoo-client",version:"4.0.6",description:"protoo JavaScript client module",author:"I\xf1aki Baz Castillo <ibc@aliax.net>",homepage:"https://protoo.versatica.com",license:"MIT",repository:{type:"git",url:"https://github.com/ibc/protoo.git"},main:"lib/index.js",keywords:["nodejs","browser","websocket"],engines:{node:">=8.0.0"},scripts:{lint:"eslint -c .eslintrc.js lib"},dependencies:{debug:"^4.3.1",events:"^3.2.0",retry:"^0.12.0"},devDependencies:{eslint:"^5.16.0"},optionalDependencies:{websocket:"^1.0.33"}}},{}],13:[function(e,t,r){t.exports=e("./lib/retry")},{"./lib/retry":14}],14:[function(e,t,r){var n=e("./retry_operation");r.operation=function(e){var t=r.timeouts(e);return new n(t,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},r.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<t.retries;o++)n.push(this.createTimeout(o,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(o,t)),n.sort(function(e,t){return e-t}),n},r.createTimeout=function(e,t){var r=Math.round((t.randomize?Math.random()+1:1)*t.minTimeout*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},r.wrap=function(e,t,n){if(t instanceof Array&&(n=t,t=null),!n)for(var o in n=[],e)"function"==typeof e[o]&&n.push(o);for(var s=0;s<n.length;s++){var i=n[s],a=e[i];e[i]=(function n(o){var s=r.operation(t),i=Array.prototype.slice.call(arguments,1),a=i.pop();i.push(function(e){!s.retry(e)&&(e&&(arguments[0]=s.mainError()),a.apply(this,arguments))}),s.attempt(function(){o.apply(e,i)})}).bind(e,a),e[i].options=t}}},{"./retry_operation":15}],15:[function(e,t,r){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift()}var n=this,o=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r);return this._options.unref&&o.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],s=o.message,i=(e[s]||0)+1;e[s]=i,i>=r&&(t=o,r=i)}return t}},{}],16:[function(e,t,r){if("object"==typeof globalThis)o=globalThis;else try{o=e("es5-ext/global")}catch(n){}finally{if(o||"undefined"==typeof window||(o=window),!o)throw Error("Could not determine global this")}var o,s=o.WebSocket||o.MozWebSocket,i=e("./version");function a(e,t){var r;return t?new s(e,t):new s(e)}s&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(a,e,{get:function(){return s[e]}})}),t.exports={w3cwebsocket:s?a:null,version:i}},{"./version":17,"es5-ext/global":3}],17:[function(e,t,r){t.exports=e("../package.json").version},{"../package.json":18}],18:[function(e,t,r){t.exports={name:"websocket",description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author:"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors:["I\xf1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version:"1.0.34",repository:{type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage:"https://github.com/theturtle32/WebSocket-Node",engines:{node:">=4.0.0"},dependencies:{bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies:{"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config:{verbose:!1},scripts:{test:"tape test/unit/*.js",gulp:"gulp"},main:"index",directories:{lib:"./lib"},browser:"lib/browser.js",license:"Apache-2.0"}},{}],19:[function(e,t,r){window.protooClient=e("protoo-client")},{"protoo-client":9}],20:[function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function e(t,r,n){return Function.prototype.apply.call(t,r,n)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function e(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function e(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function e(t,r){return new Promise(function(e,n){var o,s,i;function a(e){t.removeListener(r,c),n(e)}function c(){"function"==typeof t.removeListener&&t.removeListener("error",a),e([].slice.call(arguments))}g(t,r,c,{once:!0}),"error"!==r&&(o=t,s=a,i={once:!0},"function"==typeof o.on&&g(o,"error",s,i))})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){if(u(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),i=s[t]),void 0===i)i=s[t]=r,++e._eventsCount;else if("function"==typeof i?i=s[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),(o=l(e))>0&&i.length>o&&!i.warned){i.warned=!0;var o,s,i,a,c=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=i.length,a=c,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=h.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function e(t){for(var r=Array(t.length),n=0;n<r.length;++n)r[n]=t[n].listener||t[n];return r}(o):m(o,o.length)}function $(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function o(s){n.once&&e.removeEventListener(t,o),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||i(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function e(){return l(this)},a.prototype.emit=function e(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var a,c=Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)s(u,this,r);else for(var l=u.length,f=m(u,l),n=0;n<l;++n)s(f[n],this,r);return!0},a.prototype.addListener=function e(t,r){return f(this,t,r,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function e(t,r){return f(this,t,r,!0)},a.prototype.once=function e(t,r){return u(r),this.on(t,p(this,t,r)),this},a.prototype.prependOnceListener=function e(t,r){return u(r),this.prependListener(t,p(this,t,r)),this},a.prototype.removeListener=function e(t,r){var n,o,s,i,a;if(u(r),void 0===(o=this._events)||void 0===(n=o[t]))return this;if(n===r||n.listener===r)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||r));else if("function"!=typeof n){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===r||n[i].listener===r){a=n[i].listener,s=i;break}if(s<0)return this;0===s?n.shift():function e(t,r){for(;r+1<t.length;r++)t[r]=t[r+1];t.pop()}(n,s),1===n.length&&(o[t]=n[0]),void 0!==o.removeListener&&this.emit("removeListener",t,a||r)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function e(t){var r,n,o;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var s,i=Object.keys(n);for(o=0;o<i.length;++o)"removeListener"!==(s=i[o])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(r=n[t]))this.removeListener(t,r);else if(void 0!==r)for(o=r.length-1;o>=0;o--)this.removeListener(t,r[o]);return this},a.prototype.listeners=function e(t){return d(this,t,!0)},a.prototype.rawListeners=function e(t){return d(this,t,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):$.call(e,t)},a.prototype.listenerCount=$,a.prototype.eventNames=function e(){return this._eventsCount>0?n(this._events):[]}},{}],21:[function(e,t,r){var n,o,s,i=t.exports={};function a(){throw Error("setTimeout has not been defined")}function c(){throw Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(t){o=c}}();var l=[],f=!1,h=-1;function p(){f&&s&&(f=!1,s.length?l=s.concat(l):h=-1,l.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=l.length;t;){for(s=l,l=[];++h<t;)s&&s[h].run();h=-1,t=l.length}s=null,f=!1,function e(t){if(o===clearTimeout)return clearTimeout(t);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(r){try{return o.call(null,t)}catch(n){return o.call(this,t)}}}(e)}}function $(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new $(e,t)),1!==l.length||f||u(d)},$.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},{}]},{},[19]);